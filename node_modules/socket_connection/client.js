var net = require('net');

var HOST = '192.168.0.9';
var PORT = 6969;

function sleep(milliseconds) {
  var start = new Date().getTime();
  for (var i= 0; i < 1e7; i++) {
    if ((new Date().getTime() - start) > milliseconds) {
      break;
    }
  }
}

var client = new net.Socket();
client.connect(PORT, HOST, function() {

<<<<<<< HEAD
    console.log('CONNECTED TO: ' + HOST + ':' + PORT);
    // Write a message to the socket as soon as the client is connected, the server will receive it as message from the client

    client.write("This is new test: ");

=======
  console.log('CONNECTED TO: ' + HOST + ':' + PORT);
  // Write a message to the socket as soon as the client is connected, the server will receive it as message from the client
  while(1) {
    client.write('This is test ');
    sleep(1000);
  }
>>>>>>> 3748620b32891257e85455d38ca7d75fe08107af
});

// Add a 'data' event handler for the client socket
// data is what the server sent to this socket
client.on('data', function(data) {

  console.log('DATA: ' + data);
  // Close the client socket completely
  client.destroy();

});

// Add a 'close' event handler for the client socket
client.on('close', function() {
  console.log('Connection closed');
});
